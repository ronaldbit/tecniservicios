<!DOCTYPE html>
<html>

<head>
   <title>@var(titulo)</title>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width,initial-scale=1" />
   <meta name="format-detection" content="telephone=no" />

   <link rel="icon" type="image/png" href="/assets_shop/images/favicon.png" />
   <!-- fonts -->
   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i,700,700i" />
   <!-- css -->
   <link rel="stylesheet" href="/assets_shop/vendor/bootstrap/css/bootstrap.css" />
   <link rel="stylesheet" href="/assets_shop/vendor/owl-carousel/assets/owl.carousel.min.css" />
   <link rel="stylesheet" href="/assets_shop/vendor/photoswipe/photoswipe.css" />
   <link rel="stylesheet" href="/assets_shop/vendor/photoswipe/default-skin/default-skin.css" />
   <link rel="stylesheet" href="/assets_shop/vendor/select2/css/select2.min.css" />
   <link rel="stylesheet" href="/assets_shop/css/style.css" />
   <link rel="stylesheet" href="/assets_shop/css/style.header-spaceship-variant-one.css" media="(min-width: 1200px)" />
   <link rel="stylesheet" href="/assets_shop/css/style.mobile-header-variant-one.css" media="(max-width: 1199px)" />
   <!-- font - fontawesome -->
   <link rel="stylesheet" href="vendor/fontawesome/css/all.min.css" />
   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-97489509-8"></script>
   <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag("js", new Date());
      gtag("config", "UA-97489509-8");
   </script>
</head>

<body>

   <div class="site">
      @include("site__header.html")
      @yield("contenido")
      @include("site__footer.html")
   </div>

   <div id="quickview-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"></div>
   <!-- quickview-modal / end --><!-- add-vehicle-modal -->
   <div id="add-vehicle-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="vehicle-picker-modal modal-dialog modal-dialog-centered">
         <div class="modal-content">
            <button type="button" class="vehicle-picker-modal__close">
               <svg width="12" height="12">
                  <path d="M10.8,10.8L10.8,10.8c-0.4,0.4-1,0.4-1.4,0L6,7.4l-3.4,3.4c-0.4,0.4-1,0.4-1.4,0l0,0c-0.4-0.4-0.4-1,0-1.4L4.6,6L1.2,2.6
                  c-0.4-0.4-0.4-1,0-1.4l0,0c0.4-0.4,1-0.4,1.4,0L6,4.6l3.4-3.4c0.4-0.4,1-0.4,1.4,0l0,0c0.4,0.4,0.4,1,0,1.4L7.4,6l3.4,3.4
                  C11.2,9.8,11.2,10.4,10.8,10.8z" />
               </svg>
            </button>
            <div class="vehicle-picker-modal__panel vehicle-picker-modal__panel--active">
               <div class="vehicle-picker-modal__title card-title">
                  Add A Vehicle
               </div>
               <div class="vehicle-form vehicle-form--layout--modal">
                  <div class="vehicle-form__item vehicle-form__item--select">
                     <select class="form-control form-control-select2" aria-label="Year">
                        <option value="none">Select Year</option>
                        <option>2010</option>
                        <option>2011</option>
                        <option>2012</option>
                        <option>2013</option>
                        <option>2014</option>
                        <option>2015</option>
                        <option>2016</option>
                        <option>2017</option>
                        <option>2018</option>
                        <option>2019</option>
                        <option>2020</option>
                     </select>
                  </div>
                  <div class="vehicle-form__item vehicle-form__item--select">
                     <select class="form-control form-control-select2" aria-label="Brand" disabled="disabled">
                        <option value="none">Select Brand</option>
                        <option>Audi</option>
                        <option>BMW</option>
                        <option>Ferrari</option>
                        <option>Ford</option>
                        <option>KIA</option>
                        <option>Nissan</option>
                        <option>Tesla</option>
                        <option>Toyota</option>
                     </select>
                  </div>
                  <div class="vehicle-form__item vehicle-form__item--select">
                     <select class="form-control form-control-select2" aria-label="Model" disabled="disabled">
                        <option value="none">Select Model</option>
                        <option>Explorer</option>
                        <option>Focus S</option>
                        <option>Fusion SE</option>
                        <option>Mustang</option>
                     </select>
                  </div>
                  <div class="vehicle-form__item vehicle-form__item--select">
                     <select class="form-control form-control-select2" aria-label="Engine" disabled="disabled">
                        <option value="none">Select Engine</option>
                        <option>Gas 1.6L 125 hp AT/L4</option>
                        <option>Diesel 2.5L 200 hp AT/L5</option>
                        <option>Diesel 3.0L 250 hp MT/L5</option>
                     </select>
                  </div>
                  <div class="vehicle-form__divider">Or</div>
                  <div class="vehicle-form__item">
                     <input type="text" class="form-control" placeholder="Enter VIN number" aria-label="VIN number" />
                  </div>
               </div>
               <div class="vehicle-picker-modal__actions">
                  <button type="button" class="btn btn-sm btn-secondary vehicle-picker-modal__close-button">
                     Cancel
                  </button>
                  <button type="button" class="btn btn-sm btn-primary">
                     Add A Vehicle
                  </button>
               </div>
            </div>
         </div>
      </div>
   </div>
   <!-- add-vehicle-modal / end --><!-- vehicle-picker-modal -->
   <div id="vehicle-picker-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="vehicle-picker-modal modal-dialog modal-dialog-centered">
         <div class="modal-content">
            <button type="button" class="vehicle-picker-modal__close">
               <svg width="12" height="12">
                  <path d="M10.8,10.8L10.8,10.8c-0.4,0.4-1,0.4-1.4,0L6,7.4l-3.4,3.4c-0.4,0.4-1,0.4-1.4,0l0,0c-0.4-0.4-0.4-1,0-1.4L4.6,6L1.2,2.6
                  c-0.4-0.4-0.4-1,0-1.4l0,0c0.4-0.4,1-0.4,1.4,0L6,4.6l3.4-3.4c0.4-0.4,1-0.4,1.4,0l0,0c0.4,0.4,0.4,1,0,1.4L7.4,6l3.4,3.4
                  C11.2,9.8,11.2,10.4,10.8,10.8z" />
               </svg>
            </button>
            <div class="vehicle-picker-modal__panel vehicle-picker-modal__panel--active" data-panel="list">
               <div class="vehicle-picker-modal__title card-title">
                  Select Vehicle
               </div>
               <div class="vehicle-picker-modal__text">
                  Select a vehicle to find exact fit parts
               </div>
               <div class="vehicles-list">
                  <div class="vehicles-list__body">
                     <label class="vehicles-list__item">
                        <span class="vehicles-list__item-radio input-radio"><span class="input-radio__body"><input
                                 class="input-radio__input" name="header-vehicle" type="radio" />
                              <span class="input-radio__circle"></span> </span></span><span
                           class="vehicles-list__item-info"><span class="vehicles-list__item-name">2011 Ford Focus
                              S</span>
                           <span class="vehicles-list__item-details">Engine 2.0L 1742DA L4 FI Turbo</span> </span>
                        <button type="button" class="vehicles-list__item-remove">
                           <svg width="16" height="16">
                              <path d="M2,4V2h3V1h6v1h3v2H2z M13,13c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2V5h10V13z" />
                           </svg>
                        </button>
                     </label>
                     <label class="vehicles-list__item">
                        <span class="vehicles-list__item-radio input-radio"><span class="input-radio__body"><input
                                 class="input-radio__input" name="header-vehicle" type="radio" />
                              <span class="input-radio__circle"></span> </span></span><span
                           class="vehicles-list__item-info"><span class="vehicles-list__item-name">2019 Audi Q7
                              Premium</span>
                           <span class="vehicles-list__item-details">Engine 3.0L 5626CC L6 QK</span> </span>
                        <button type="button" class="vehicles-list__item-remove">
                           <svg width="16" height="16">
                              <path d="M2,4V2h3V1h6v1h3v2H2z M13,13c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2V5h10V13z" />
                           </svg>
                        </button>
                     </label>
                  </div>
               </div>
               <div class="vehicle-picker-modal__actions">
                  <button type="button" class="btn btn-sm btn-secondary vehicle-picker-modal__close-button">
                     Cancel
                  </button>
                  <button type="button" class="btn btn-sm btn-primary" data-to-panel="form">
                     Add A Vehicle
                  </button>
               </div>
            </div>
            <div class="vehicle-picker-modal__panel" data-panel="form">
               <div class="vehicle-picker-modal__title card-title">
                  Add A Vehicle
               </div>
               <div class="vehicle-form vehicle-form--layout--modal">
                  <div class="vehicle-form__item vehicle-form__item--select">
                     <select class="form-control form-control-select2" aria-label="Year">
                        <option value="none">Select Year</option>
                        <option>2010</option>
                        <option>2011</option>
                        <option>2012</option>
                        <option>2013</option>
                        <option>2014</option>
                        <option>2015</option>
                        <option>2016</option>
                        <option>2017</option>
                        <option>2018</option>
                        <option>2019</option>
                        <option>2020</option>
                     </select>
                  </div>
                  <div class="vehicle-form__item vehicle-form__item--select">
                     <select class="form-control form-control-select2" aria-label="Brand" disabled="disabled">
                        <option value="none">Select Brand</option>
                        <option>Audi</option>
                        <option>BMW</option>
                        <option>Ferrari</option>
                        <option>Ford</option>
                        <option>KIA</option>
                        <option>Nissan</option>
                        <option>Tesla</option>
                        <option>Toyota</option>
                     </select>
                  </div>
                  <div class="vehicle-form__item vehicle-form__item--select">
                     <select class="form-control form-control-select2" aria-label="Model" disabled="disabled">
                        <option value="none">Select Model</option>
                        <option>Explorer</option>
                        <option>Focus S</option>
                        <option>Fusion SE</option>
                        <option>Mustang</option>
                     </select>
                  </div>
                  <div class="vehicle-form__item vehicle-form__item--select">
                     <select class="form-control form-control-select2" aria-label="Engine" disabled="disabled">
                        <option value="none">Select Engine</option>
                        <option>Gas 1.6L 125 hp AT/L4</option>
                        <option>Diesel 2.5L 200 hp AT/L5</option>
                        <option>Diesel 3.0L 250 hp MT/L5</option>
                     </select>
                  </div>
                  <div class="vehicle-form__divider">Or</div>
                  <div class="vehicle-form__item">
                     <input type="text" class="form-control" placeholder="Enter VIN number" aria-label="VIN number" />
                  </div>
               </div>
               <div class="vehicle-picker-modal__actions">
                  <button type="button" class="btn btn-sm btn-secondary" data-to-panel="list">
                     Back to list
                  </button>
                  <button type="button" class="btn btn-sm btn-primary">
                     Add A Vehicle
                  </button>
               </div>
            </div>
         </div>
      </div>
   </div>
   <!-- vehicle-picker-modal / end --><!-- photoswipe -->
   <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="pswp__bg"></div>
      <div class="pswp__scroll-wrap">
         <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
         </div>
         <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
               <div class="pswp__counter"></div>
               <button class="pswp__button pswp__button--close"
                  title="Close (Esc)"></button><!--<button class="pswp__button pswp__button&#45;&#45;share" title="Share"></button>-->
               <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
               <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
               <div class="pswp__preloader">
                  <div class="pswp__preloader__icn">
                     <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
               <div class="pswp__share-tooltip"></div>
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
            <div class="pswp__caption">
               <div class="pswp__caption__center"></div>
            </div>
         </div>
      </div>
   </div>

   <!-- photoswipe / end --><!-- scripts -->
   <script src="/assets_shop/vendor/jquery/jquery.min.js"></script>
   <script src="/assets_shop/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
   <script src="/assets_shop/vendor/owl-carousel/owl.carousel.min.js"></script>
   <script src="/assets_shop/vendor/nouislider/nouislider.min.js"></script>
   <script src="/assets_shop/vendor/photoswipe/photoswipe.min.js"></script>
   <script src="/assets_shop/vendor/photoswipe/photoswipe-ui-default.min.js"></script>
   <script src="/assets_shop/vendor/select2/js/select2.min.js"></script>
   <script src="/assets_shop/js/number.js"></script>
   <script src="/assets_shop/js/main.js"></script>

   <div id="grid" class="product-grid"></div>

   <script>
      async function fetchJSON(url, opts) {
         const res = await fetch(url, opts || {});
         if (!res.ok) throw new Error("HTTP " + res.status);
         return res.json();
      }

      (async () => {
         try {
            const items = await fetchJSON("/api/tienda/products");

            grid.innerHTML = items
               .map(
                  (p) => `
      <div class="product-card product-card--layout--grid">
        <div class="product-card__actions-list">
          <button class="product-card__action product-card__action--quickview" type="button" aria-label="Quick view">
            <svg width="16" height="16"><path d="M14,15h-4v-2h3v-3h2v4C15,14.6,14.6,15,14,15z M13,3h-3V1h4c0.6,0,1,0.4,1,1v4h-2V3z M6,3H3v3H1V2c0-0.6,0.4-1,1-1h4V3z M3,13h3v2H2c-0.6,0-1-0.4-1-1v-4h2V13z"/></svg>
          </button>
          <button class="product-card__action product-card__action--wishlist" type="button" aria-label="Add to wish list">
            <svg width="16" height="16"><path d="M13.9,8.4l-5.4,5.4c-0.3,0.3-0.7,0.3-1,0L2.1,8.4c-1.5-1.5-1.5-3.8,0-5.3C2.8,2.4,3.8,2,4.8,2s1.9,0.4,2.6,1.1L8,3.7l0.6-0.6C9.3,2.4,10.3,2,11.3,2c1,0,1.9,0.4,2.6,1.1C15.4,4.6,15.4,6.9,13.9,8.4z"/></svg>
          </button>
          <button class="product-card__action product-card__action--compare" type="button" aria-label="Add to compare">
            <svg width="16" height="16">
              <path d="M9,15H7c-0.6,0-1-0.4-1-1V2c0-0.6,0.4-1,1-1h2c0.6,0,1,0.4,1,1v12C10,14.6,9.6,15,9,15z"/>
              <path d="M1,9h2c0.6,0,1,0.4,1,1v4c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.4-1-1v-4C0,9.4,0.4,9,1,9z"/>
              <path d="M15,5h-2c-0.6,0-1,0.4-1,1v8c0,0.6,0.4,1,1,1h2c0.6,0,1-0.4,1-1V6C16,5.4,15.6,5,15,5z"/>
            </svg>
          </button>
        </div>

        <div class="product-card__image">
          <img src="${p.imagen || "assets/img/default.png"}" alt="${p.nombre}">
        </div>

        <div class="product-card__info">
          <h3 class="product-card__name">${p.nombre}</h3>
          <p class="product-card__code">${p.codigo || ""}</p>
          <div class="product-card__price">S/ ${(p.precio || 0).toFixed(
                     2
                  )}</div>
        </div>
      </div>
    `
               )
               .join("");
         } catch (err) {
            console.error("Error cargando productos:", err);
            grid.innerHTML = "<p>No se pudieron cargar los productos.</p>";
         }
      })();
   </script>

</body>

</html>