<div class="pc-container" th:replace="~{dashboard/layout :: layout(~{::content}, ${usuario}, 'Inicio', '/dashboard')}">
   <div class="pc-content" th:fragment="content">
      <!-- [ Main Content ] start -->
      <div class="pc-content">
         <div class="page-header">
            <div class="page-block">
               <div class="row align-items-center">
                  <div class="col-md-12">
                     <div class="page-header-title">
                        <h5 class="m-b-10">Gestión de Caja Chica</h5>
                     </div>
                     <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a href="../index.html">Ventas</a></li>
                        <li class="breadcrumb-item" aria-current="page">Caja Chica</li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
         <div class="row">

            <div class="col-md-6 col-lg-4">
               <div class="card">
                  <div class="card-body">
                     <div class="d-flex align-items-center justify-content-between mb-3">
                        <h5 class="mb-0">Caja 1 - Tienda Principal</h5>
                        <span class="badge text-bg-success">Abierta</span>
                     </div>
                     <p class="mb-1">
                        <i class="ti ti-user-check me-1"></i> Abierta por: <strong>Ronald Ramos</strong>
                     </p>
                     <p class="mb-1">
                        <i class="ti ti-calendar-time me-1"></i> Fecha: <strong>23/10/2025 09:00 AM</strong>
                     </p>
                     <p class="mb-3">
                        <i class="ti ti-cash me-1"></i> Monto Inicial: <strong>S/ 200.00</strong>
                     </p>
                     <div class="d-grid gap-2">
                        <button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#modalCerrarCaja">
                           <i class="ti ti-lock me-1"></i> Realizar Cierre de Caja
                        </button>
                        <button class="btn btn-outline-secondary" data-bs-toggle="modal"
                           data-bs-target="#modalMovimiento">
                           <i class="ti ti-arrows-sort me-1"></i> Registrar Movimiento
                        </button>
                     </div>
                  </div>
               </div>
            </div>

            <div class="col-md-6 col-lg-4">
               <div class="card">
                  <div class="card-body">
                     <div class="d-flex align-items-center justify-content-between mb-3">
                        <h5 class="mb-0">Caja 2 - Almacén</h5>
                        <span class="badge text-bg-secondary">Cerrada</span>
                     </div>
                     <p class="mb-1">
                        <i class="ti ti-calendar-off me-1"></i> Último cierre: <strong>22/10/2025 07:15 PM</strong>
                     </p>
                     <p class="mb-3">
                        <i class="ti ti-user-off me-1"></i> Cerrada por: <strong>Ana Gómez</strong>
                     </p>
                     <div class="d-grid gap-2">
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalAbrirCaja">
                           <i class="ti ti-key me-1"></i> Abrir Caja
                        </button>
                     </div>
                  </div>
               </div>
            </div>

         </div>

         <div class="row">
            <div class="col-12">
               <div class="card table-card">
                  <div class="card-header">
                     <h5 class="mb-0">Historial de Movimientos de Caja</h5>
                  </div>
                  <div class="card-body pt-3">
                     <div class="table-responsive">
                        <table class="table table-hover" id="pc-dt-simple">
                           <thead>
                              <tr>
                                 <th>Fecha y Hora</th>
                                 <th>Caja</th>
                                 <th>Usuario</th>
                                 <th>Tipo</th>
                                 <th>Monto</th>
                                 <th>Motivo / Nota</th>
                              </tr>
                           </thead>
                           <tbody>

                              <tr>
                                 <td>23/10/2025 09:00 AM</td>
                                 <td>Caja 1 - Tienda Principal</td>
                                 <td>Ronald Ramos</td>
                                 <td><span class="badge text-bg-primary">Apertura</span></td>
                                 <td class="text-success">+ S/ 200.00</td>
                                 <td>Fondo inicial</td>
                              </tr>

                              <tr>
                                 <td>23/10/2025 11:15 AM</td>
                                 <td>Caja 1 - Tienda Principal</td>
                                 <td>Ronald Ramos</td>
                                 <td><span class="badge text-bg-danger">Egreso</span></td>
                                 <td class="text-danger">- S/ 35.00</td>
                                 <td>Compra de útiles de limpieza</td>
                              </tr>

                              <tr>
                                 <td>23/10/2025 02:30 PM</td>
                                 <td>Caja 1 - Tienda Principal</td>
                                 <td>Ronald Ramos</td>
                                 <td><span class="badge text-bg-info">Ingreso</span></td>
                                 <td class="text-success">+ S/ 100.00</td>
                                 <td>Reposición de fondo</td>
                              </tr>

                              <tr>
                                 <td>22/10/2025 07:15 PM</td>
                                 <td>Caja 2 - Almacén</td>
                                 <td>Ana Gómez</td>
                                 <td><span class="badge text-bg-secondary">Cierre</span></td>
                                 <td>S/ 1,845.50</td>
                                 <td>Cierre de turno</td>
                              </tr>

                           </tbody>
                        </table>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="modal fade" id="modalAbrirCaja" tabindex="-1" aria-labelledby="modalAbrirCajaLabel"
         aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title" id="modalAbrirCajaLabel">Abrir Caja</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                  <form>
                     <div class="mb-3">
                        <label for="cajaAbrir" class="form-label">Seleccionar Caja</label>
                        <select class="form-select" id="cajaAbrir">
                           <option value="1">Caja 1 - Tienda Principal</option>
                           <option value="2" selected>Caja 2 - Almacén</option>
                        </select>
                     </div>
                     <div class="mb-3">
                        <label for="montoInicial" class="form-label">Monto Inicial (Base) (S/)</label>
                        <input type="number" class="form-control" id="montoInicial" placeholder="Ej: 200.00" step="0.01"
                           required>
                     </div>
                     <div class="mb-3">
                        <label for="notasAbrir" class="form-label">Notas (Opcional)</label>
                        <textarea class="form-control" id="notasAbrir" rows="2"
                           placeholder="Fondo inicial para cambio..."></textarea>
                     </div>
                  </form>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                  <button type="button" class="btn btn-primary">Confirmar Apertura</button>
               </div>
            </div>
         </div>
      </div>

      <div class="modal fade" id="modalMovimiento" tabindex="-1" aria-labelledby="modalMovimientoLabel"
         aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title" id="modalMovimientoLabel">Registrar Movimiento en Caja</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                  <form>
                     <div class="mb-3">
                        <label for="cajaMov" class="form-label">Caja</label>
                        <input type="text" class="form-control" id="cajaMov" value="Caja 1 - Tienda Principal" readonly>
                     </div>
                     <div class="mb-3">
                        <label for="tipoMov" class="form-label">Tipo de Movimiento</label>
                        <select class="form-select" id="tipoMov">
                           <option value="ingreso" class="text-success">Ingreso (Añadir dinero)</option>
                           <option value="egreso" class="text-danger">Egreso (Retirar dinero)</option>
                        </select>
                     </div>
                     <div class="mb-3">
                        <label for="montoMov" class="form-label">Monto (S/)</label>
                        <input type="number" class="form-control" id="montoMov" placeholder="0.00" step="0.01" required>
                     </div>
                     <div class="mb-3">
                        <label for="motivoMov" class="form-label">Motivo</label>
                        <textarea class="form-control" id="motivoMov" rows="2"
                           placeholder="Ej: Pago de delivery, compra de suministros..."></textarea>
                     </div>
                  </form>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                  <button type="button" class="btn btn-primary">Guardar Movimiento</button>
               </div>
            </div>
         </div>
      </div>

      <div class="modal fade" id="modalCerrarCaja" tabindex="-1" aria-labelledby="modalCerrarCajaLabel"
         aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title" id="modalCerrarCajaLabel">Confirmar Cierre de Caja</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body">
                  <p>Estás a punto de realizar el cierre de la <strong>Caja 1 - Tienda Principal</strong>.</p>
                  <p>Deberás contar el efectivo y registrar los montos totales (ventas, egresos, etc.) para completar el
                     cuadre.</p>
                  <p class="fw-bold">¿Deseas continuar?</p>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No, aún no</button>
                  <button type="button" class="btn btn-danger">Sí, Iniciar Cierre</button>
               </div>
            </div>
         </div>
      </div>

      <!-- [ Main Content ] end -->
   </div>
</div>