<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Ranking Vendedores</title>
    <style>
      body {
        font-family: sans-serif;
        font-size: 12px;
      }
      .header {
        text-align: center;
        margin-bottom: 20px;
        border-bottom: 3px solid #28a745;
        padding-bottom: 10px;
      }
      h1 {
        color: #28a745;
        margin: 0;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      th {
        background-color: #28a745;
        color: white;
        padding: 10px;
        text-align: left;
      }
      td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
      }

      .rank-col {
        font-weight: bold;
        font-size: 14px;
        width: 40px;
        text-align: center;
      }
      .money {
        text-align: right;
        font-weight: bold;
        font-size: 13px;
      }

      .gold {
        background-color: #ffd700;
      }
      .silver {
        background-color: #c0c0c0;
      }
      .bronze {
        background-color: #cd7f32;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>MEJORES VENDEDORES</h1>
      <p>
        Periodo:
        <span th:text="${#temporals.format(fechaInicio, 'dd/MM/yyyy')}"></span>
        - <span th:text="${#temporals.format(fechaFin, 'dd/MM/yyyy')}"></span>
      </p>
    </div>

    <table>
      <thead>
        <tr>
          <th style="text-align: center">Puesto</th>
          <th>Vendedor</th>
          <th style="text-align: center">Ventas Realizadas</th>
          <th style="text-align: right">Monto Total (S/)</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="v, iter : ${vendedores}">
          <td
            class="rank-col"
            th:classappend="${iter.index == 0} ? 'gold' : (${iter.index == 1} ? 'silver' : (${iter.index == 2} ? 'bronze' : ''))"
            th:text="${iter.count}"
          >
            1
          </td>

          <td th:text="${v.nombreVendedor}">Juan Perez</td>
          <td style="text-align: center" th:text="${v.cantidadVentas}">150</td>
          <td
            class="money"
            th:text="${#numbers.formatDecimal(v.totalVendido, 1, 2)}"
          >
            15,000.00
          </td>
        </tr>
        <tr th:if="${#lists.isEmpty(vendedores)}">
          <td colspan="4" style="text-align: center; padding: 20px">
            No hay ventas registradas en este periodo.
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
