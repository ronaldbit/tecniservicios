<!doctype html><html><head><meta charset="utf-8"><title>Productos</title>
<link rel="stylesheet" href="/assets/style.css"></head><body>
<div class="container">
  <h2>Productos</h2>
  <input id="q" placeholder="Buscar..." oninput="load()"/>
  <div class="grid" id="grid"></div>
</div>
<script>
async function fetchJSON(u,opts){const r=await fetch(u,opts||{});if(!r.ok)throw new Error('HTTP '+r.status);return r.json();}
async function load(){
  const k=q.value.trim();
  const url = k?'/api/tienda/products?q='+encodeURIComponent(k):'/api/tienda/products';
  const rows = await fetchJSON(url);
  grid.innerHTML = rows.map(p=>`<div class="card"><h3>${p.nombre}</h3><strong>S/ ${(p.precio||0).toFixed(2)}</strong></div>`).join('');
}
load();
</script>
</body></html>
